<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recibo de Mensualidad</title>

<style>
body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    font-size: 12px;
    font-weight: bold;
    color: #000;
}

.recibo {
    width: 52mm;          /* ðŸ”´ CLAVE PARA 58MM */
    margin: 0 auto;
    padding: 2mm 1mm;     /* mÃ¡rgenes seguros */
    box-sizing: border-box;
}

.titulo {
    text-align: center;
    margin: 2px 0;
}

.item {
    text-align: center;
    margin: 2px 0;
    word-wrap: break-word;
}

.linea {
    border-top: 1px dashed #000;
    margin: 6px 0;
}

.total {
    font-size: 14px;
    margin: 6px 0;
}

.pie {
    font-size: 11px;
    text-align: center;
    margin-top: 6px;
}

.imagen-container {
    text-align: center;
    margin-top: 5px;
}

.imagen-container img {
    max-width: 100%;
    display: none;
}
</style>
</head>

<body onload="cargarDatosYImprimir()">

<div class="recibo">

    <div class="titulo" style="font-size:15px;">EL TEMPLO AJM</div>
    <div class="titulo" id="nombreSucursal"></div>
    <div class="titulo" id="direccionSucursal"></div>
    <div class="titulo" id="telefonoSucursal"></div>

    <div class="titulo">
        ðŸ•‘ Horario de atenciÃ³n<br>
        Lun a SÃ¡b: 7:45 am â€“ 7:15 pm
    </div>

    <div class="linea"></div>

    <div class="titulo" style="font-size:14px;">RECIBO DE MENSUALIDAD</div>

    <div class="item">ID: <span id="id_mensualidad"></span></div>
    <div class="item">Cliente: <span id="nombre_cliente"></span></div>
    <div class="item">Placa: <span id="placa_mensualidad"></span></div>
    <div class="item">Inicio: <span id="fecha_inicio"></span></div>
    <div class="item">Fin: <span id="fecha_termino"></span></div>
    <div class="item">Estado: <span id="estado_pago"></span></div>

    <div class="linea"></div>

    <div class="item total">
        TOTAL PAGADO<br>
        $ <span id="valor_pagado"></span>
    </div>

    <div class="imagen-container">
        <img id="imagenRecibo">
    </div>

    <div class="linea"></div>

    <div class="pie">
        <strong>AVISO IMPORTANTE</strong><br>
        1. Entrega solo con recibo.<br>
        2. No se guardan objetos personales.<br>
        3. No respondemos por pÃ©rdidas o daÃ±os.<br>
        4. Retirada la moto, no hay reclamos.
    </div>

</div>

<script>
function cargarDatosYImprimir() {
    const p = new URLSearchParams(window.location.search);

    const set = (id, val) => {
        const e = document.getElementById(id);
        if (e) e.textContent = val || "";
    };

    /* ENCABEZADO */
    set("nombreSucursal", p.get("Sucursal"));
    set("direccionSucursal", p.get("dirsucur"));
    set("telefonoSucursal", p.get("phone"));

    /* DATOS */
    set("id_mensualidad", p.get("Id_mensualidad"));
    set("nombre_cliente", p.get("NombreUM"));
    set("placa_mensualidad", p.get("Placapm"));
    set("fecha_inicio", p.get("Fechai_nicial"));
    set("fecha_termino", p.get("Fecha_termino"));
    set("estado_pago", p.get("Estado"));
    set("valor_pagado", p.get("Valor"));

    /* IMAGEN */
    const img = p.get("imagen");
    const imgEl = document.getElementById("imagenRecibo");
    if (img) {
        imgEl.src = img;
        imgEl.style.display = "block";
    }

    setTimeout(() => window.print(), 150);
}
</script>

</body>
</html>
